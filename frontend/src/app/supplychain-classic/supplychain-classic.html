<!DOCTYPE html>
<html>
<head>
  <title>Supply chain classic multiplayer edition</title>
</head>
<body>
<h1>Supply chain classic multiplayer edition</h1>

<div *ngIf="showGM">
  <label>Client:</label><br>
  <app-orders></app-orders>
</div>

<!-- Element 2 -->
<div *ngIf="showStore">
  <label>Store:</label><br>
  <ul>
    <ng-container *ngFor="let item of messages">
      <li *ngIf="isMessageVisible(item)">
        <span *ngIf="item.text">{{ item.text }}</span>
      </li>
    </ng-container>
  </ul>
  <input type="text" [(ngModel)]="senderStore"><br>
  <button (click)="pushTextWithRole('senderStore','financier')">Send for financier's approval</button>
  <button (click)="pushTextWithRole('senderStore', 'factory')">Send to the factory</button>
  <button (click)="pushTextWithRole('senderStore', 'gamemaster')">Send to the client</button>
</div>

<!-- Element 3 -->
<div *ngIf="showFinancier">
  <label>Financier:</label><br>
  <ul>
    <ng-container *ngFor="let item of messages">
      <li *ngIf="isMessageVisible(item)">
        <span *ngIf="item.text">{{ item.text }}</span>
      </li>
    </ng-container>
  </ul>
  <input type="text" [(ngModel)]="senderFinancier"><br>
  <button (click)="pushTextWithRole('senderFinancier', 'store')">Send to the store</button>
  <button (click)="pushTextWithRole('senderFinancier', 'factory')">Send to the factory</button>
  <button (click)="pushTextWithRole('senderFinancier', 'delivery')">Send to delivery</button>
</div>

<!-- Element 4 -->
<div *ngIf="showFactory">
  <label>Factory:</label><br>
  <ul>
    <ng-container *ngFor="let item of messages">
      <li *ngIf="isMessageVisible(item)">
        <span *ngIf="item.text">{{ item.text }}</span>
      </li>
    </ng-container>
  </ul>
  <input [(ngModel)]="senderFactory" type="text"><br>
  <button (click)="pushTextWithRole('senderFactory', 'financier')">Send for financier's approval</button>
  <button (click)="pushTextWithRole('senderFactory', 'delivery')">Send to delivery</button>
</div>

<!-- Element 5 -->
<div *ngIf="showDelivery">
  <label>Delivery:</label>
  <ul>
    <ng-container *ngFor="let item of messages">
      <li *ngIf="isMessageVisible(item)">
        <span *ngIf="item.text">{{ item.text }}</span>
      </li>
    </ng-container>
  </ul>
  <input type="text" [(ngModel)]="senderDelivery"><br>
  <button (click)="pushTextWithRole('senderDelivery', 'financier')">Send for financier's approval</button>
  <button (click)="pushTextWithRole('senderDelivery', 'store')">Send to buyer</button>
</div>
</body>
</html>
